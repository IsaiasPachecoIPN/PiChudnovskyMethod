<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pi Digits</title>
    <link rel="shortcut icon" href="./Logo_IPN.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css//bootstrap.min.css"> </link>
    <link rel="stylesheet" href="./css//styles.css"> </link>
    <script src='https://cdn.jsdelivr.net/npm/bignumber.js@9.1.2/bignumber.min.js'></script>
    <script src="./js/bootstrap.min.js"> </script>
    <script src="./js/pi_1mb.js"> </script>
    <script src="./js/pi_2621440.js"> </script>
    <script src="./js/pi_10000.js"> </script>
    <script src="./js/pi_1000.js"> </script>
    <script src="utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body style="height: 100vh; width: 100vw;">
    <div style="display: flex; flex-direction: column;">
        <nav class="navbar navbar-expand-lg" style="background:  #7c0040;">
        <div class="container-fluid">
          <a class="navbar-brand" href="#" style="color: #fff;">
            <img src="./logo.png" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
            IPN
          </a>
        </div>
      </nav>
      <div class="container" id="mainContainer" style="display: flex; flex-direction: row; gap:20px; margin: 20px; min-width: 95%; height: 80vh;">
          <div class="card" style="max-width: 40%;">
              <div class="card-body">
                  <div style="display: flex; gap: 10px; flex-direction: column;">
                      <h4>Controles</h4>

                        <div id="divInfo">
                          <p>Calculo del los n-digitos de pi utilizando el método de <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#exampleModal1">Chudnovsky</button></p>
                        </div>
                        
                        <label for="lblNumber">Número de dígitos de pi</label>
                        <input type="number" id="lblNumDigits" value="100" />

                        <p>Importar dígitos: </p>
                        <div style="margin: 0 10px;">
                          <button type="button" class="btn btn-dark" id="cargar-pi-1000">1000</button>
                          <button type="button" class="btn btn-dark" id="cargar-pi-10000">10000</button>
                          <button type="button" class="btn btn-dark" id="cargar-pi-2621440">2621440</button>
                          <button type="button" class="btn btn-dark" id="cargar-pi-1mb">1MB</button>
                        </div>


                        <button type="button" class="btn btn-dark" id="iniciar">Generar</button>
                        <button type="button" class="btn btn-dark" id="detener">Detener</button>
                  </div>
              </div>
          </div>
          <div class="card" style="flex-grow: 1;">
              <div class="card-body">
                      <div style="display: flex; flex-grow: 1; height: 100%; flex-direction: column;">
                        <textarea id="txtRes" name="txtRes">Resultado</textarea>
                        <div id="grafica-btns-container">
                          <button type="button" class="btn btn-dark" id="mostrarGrafica" data-bs-toggle="modal" data-bs-target="#exampleModal">Mostrar grafica</button>
                          <div id="txtNumDigitsContainer">
                            <p>Número de digitos calculados: </p>
                            <p id="lblNumDigitsCalculated">0</p>
                          </div>
                        </div>
                      </div>
              </div>
          </div>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Grafica de dígitos</h5>
              <button type="button" class="btn-close btn-dark" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <canvas id="myChart"></canvas>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Información</h5>
              <button type="button" class="btn-close btn-dark" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div>
                <p>El algoritmo de Chudnovsky es un método rápido para calcular los dígitos de π. Fue usado por los hermanos Chudnovsky para calcular más de mil millones de dígitos. Fue usado en el cálculo, récord del mundo de 2.7 billones de dígitos de π en diciembre de 2009, 5 billones de dígitos de π en agosto de 2010, y 10 billones de dígitos de π en octubre de 2011.</p>
                <p>El algoritmo está basado en la siguiente rápida serie hipergeométrica generalizada convergente:</p>
                <img src="./formula.svg" alt="Chudnovsky" width="100%" height="100%">
                <p>Esta identidad es similar a algunas de las fórmulas de Ramanujan que están relacionadas con π.</p>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

    </div>
</body>
</html>